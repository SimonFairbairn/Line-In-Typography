/**
 *	Creates typographic overlays for testing line heights and grids
 *
 *	@version 0.2.0
 *
 *	@author	Simon Fairbairn
 *
 */(function(a){"use strict";function b(b){var c=a(b);a(".columns").each(function(){a(this).removeClass("gr960-12").removeClass("gr960-16")});a(".columns").each(function(){a(this).addClass("gr960-"+c.val())});a("#lit-switch-grid").addClass("on")}function c(c){var d=a("<div />").attr("id","lit-buttons"),e=a("<a />").attr("href","#lit-hide").addClass("lit-hide").text("Hide").click(function(){var b,c;if(a(this).hasClass("show")){b="hide";c="show";a("#lit-buttons").animate({width:400},500);a(".lit-controls").show()}else{b="show";c="hide";a("#lit-buttons").animate({width:25},500);a(".lit-controls").hide()}a(this).text(b).removeClass(c).addClass(b);return!1}),f=a("<div />").addClass("lit-controls"),g=a("<input />").attr("type","button").attr("name","lit-switch-images").attr("id","lit-switch-images").val("Toggle Images").click(function(){if(a(this).hasClass("on")){a(this).removeClass("on");a(c.lineHeightContainer).removeClass("switchImages")}else{a(this).addClass("on");a(c.lineHeightContainer).addClass("switchImages")}}),h=a("<input />").attr("type","button").attr("name","lit-switch-lines").attr("id","lit-switch-lines").val("Toggle Lines").click(function(){a("#lit-vertical-rhythm").toggle();a(".test-p").toggle();a(c.selector).toggleClass("litLines")}),i=a("<input />").attr("type","button").attr("name","lit-switch-grid").attr("id","lit-switch-grid").val("Toggle Grid").click(function(){if(a(this).hasClass("on")){a(this).removeClass("on");a(".columns").each(function(){a(this).removeClass("gr960-12").removeClass("gr960-16")})}else{a(this).addClass("on");a(".columns").each(function(){a(this).addClass("gr960-"+a(".line-height:checked").val())})}}),j=a("<label>").attr("for","lit-960-12").text("12 column grid"),k=a("<input />").attr("type","radio").attr("name","lit-960").attr("id","lit-960-12").val("12").addClass("line-height").click(function(){b(this)}),l=a("<label>").attr("for","lit-960-16").text("16 column grid"),m=a("<input />").attr("type","radio").attr("name","lit-960").attr("id","lit-960-16").val("16").addClass("line-height").click(function(){b(this)}),n=a("<div />").addClass("test-p").html(c.testHtml);c.lineState!=="on"&&n.hide();c.grid==="12"?k.attr("checked","checked"):m.attr("checked","checked");f.append(g).append(h).append(i).append(j).append(k).append(l).append(m);d.append(e).append(f);var o=a("<div />").attr("id","lit-vertical-rhythm").css({"background-position":"0 "+c.backgroundOffset+"px"});c.lineState!=="on"?o.hide():a(c.selector).addClass("litLines");a(c.lineHeightContainer).prepend(n).append(d).append(o)}a.fn.LineInTypography=function(b){var d=a.extend({},a.fn.LineInTypography.defaults,b);d.selector=a(this).selector;d.lineHeightContainerHeight=a(d.lineHeightContainer).height();d.lineHeight=Math.round(parseFloat(a(d.lineHeightContainer).css("line-height")));if(a("#lit-button").length<1){c(d);var e="<style>";e+="#lit-buttons {";e+="position: fixed; top: 50px; right: 0; z-index: 200; background: #fff; padding: 15px;";e+="border: 1px solid #000; -moz-border-radius: 10px; -webkit-border-radius: 10px; border-radius: 10px; ";e+="width: 400px;";e+="}";e+=".switchImages embed, .switchImages img, .switchImages object, .switchImages video, .switchImages iframe  {";e+="display: none !important;";e+="}";e+=".litLines {";e+="-webkit-background-size: "+parseInt(d.lineHeight,10)*2+"px "+parseInt(d.lineHeight,10)*2+"px;";e+="-moz-background-size: "+parseInt(d.lineHeight,10)*2+"px "+parseInt(d.lineHeight,10)*2+"px;";e+="-o-background-size: "+parseInt(d.lineHeight,10)*2+"px "+parseInt(d.lineHeight,10)*2+"px;";e+="background-size: "+parseInt(d.lineHeight,10)*2+"px "+parseInt(d.lineHeight,10)*2+"px;";e+="background-image: -webkit-gradient(linear, 50% 0%, 50% 100%, color-stop(50%, #ffffff), color-stop(50%, #dddddd));";e+="background-image: -webkit-linear-gradient(50% 0%, #ffffff 50%, #dddddd 50%);";e+="background-image: -moz-linear-gradient(50% 0%, #ffffff 50%, #dddddd 50%);";e+="background-image: -o-linear-gradient(50% 0%, #ffffff 50%, #dddddd 50%);";e+="background-image: -ms-linear-gradient(50% 0%, #ffffff 50%, #dddddd 50%);";e+="background-image: linear-gradient(50% 0%, #ffffff 50%, #dddddd 50%);";e+="background-position : 0 "+d.backgroundOffset+"px;";e+="}";e+="</style>";a("head").append(e)}return this.each(function(){var b=a(this),c=b.width(),e=b.css("max-width"),f=!1;d.gridState==="on"&&(d.grid==="12"?f="gr960-12":f="gr960-16");b.addClass("columns").addClass(f)})};a.fn.LineInTypography.defaults={lineHeightContainer:"body",backgroundOffset:-7,grid:"12",gridState:"off",lineState:"on",testHtml:"<p>Test paragraph to show line height</p><p>Test paragraph to show line height</p>",pluginUrl:"js/mylibs/"}})(jQuery);